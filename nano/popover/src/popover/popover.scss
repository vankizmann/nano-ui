@import "../../../root/vars";

$popover: (
    'default': (
        'color': $color-black,
        'border': $color-gray-10,
        'background': $color-white,
    ),
    'select': (
        'color': $color-black,
        'border': $color-gray-10,
        'background': $color-white,
    ),
    'tooltip': (
        'color': $color-white,
        'border': $color-gray-90,
        'background': rgba($color-black, 0.95),
    )
) !default;

.n-popover {
    position: fixed;
    display: flex;
    flex-direction: column;
}

.n-popover.n-hidden {
    display: none;
}

.n-popover__frame {
    overflow: hidden;
    box-shadow: 0 1px 3px 1px rgba($color-black, 0.15);
}

.n-popover__header {
    flex: 0 0 auto;
}

.n-popover__body {
    flex: 1 1 auto;
}

.n-popover__footer {
    flex: 0 0 auto;
}

@each $suffix, $values in $form {

    $popover-font: map-get($values, 'font');
    $popover-size: map-get($values, 'size');
    $popover-radius: map-get($values, 'radius');
    $popover-ratio: map-get($values, 'ratio');

    .n-popover--#{$suffix} {
        font-size: $popover-font;
    }

    .n-popover--#{$suffix} .n-popover__frame {
        border-radius: $popover-radius;
    }

    $popover-padding: $popover-size * $popover-ratio;

    .n-popover--#{$suffix} .n-popover__header {
        padding: $popover-padding * 0.5 $popover-padding;
    }
    
    .n-popover--#{$suffix} .n-popover__body {
        padding: $popover-padding * 0.5 $popover-padding;
    }
    
    .n-popover--#{$suffix} .n-popover__footer {
        padding: $popover-padding * 0.5 $popover-padding;
    }

}

@each $suffix, $values in $popover {

    $popover-color: map-get($values, 'color');
    $popover-background: map-get($values, 'background');
    $popover-border: map-get($values, 'border');

    .n-popover--#{$suffix} .n-popover__frame {
        color: $popover-color;
        background: $popover-background;
    }

    .n-popover--#{$suffix} .n-popover__header {
        border-bottom: 1px solid $popover-border;
    }

    .n-popover--#{$suffix} .n-popover__footer {
        flex: 0 0 auto;
        background: rgba($popover-border, 0.65);
    }

}